<!DOCTYPE html>
<html>
<head>
   <title>Post Events</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="Programmable Post,Programmable Post Post Events" />
   <meta name="description" content="Programmable Post Processor has event driven architecture. Before outputting a specific block of G-code event is called. List of available events can be found at &quot;Post event..." />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet" />

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
        padding:0; 
        background: #ffffff; 
      } 
      div#printheader { display: none; }
      #idheader { 
        width:100%; 
        height:auto; 
        padding: 0; 
        margin: 0;
        position: fixed;
        top: 0;
        z-index: 2;
      } 
      /* The "min-height" for "#idheader table" ensures that the (blue) header of the topic
         has at least the same height as the header of the navigation panel left of it */
      #idheader table { background: #3D78AF; min-height: 59px }             
      #idheader h1 span { color: #FFF }     
      #idnav {
        text-align: right;
        width: 126px;
        vertical-align: middle;        
      } 
      #idnav a { text-decoration: none }
      #idnav span {
        display: inline-block;
        width: 24px;
        height: 24px;
        margin-left: 4px;
        background:url('hm_webhelp_buttons_grey.png') top left no-repeat;
      } 
      #idnav a span {
        background-image:url('hm_webhelp_buttons_white.png');
      } 
      #idnav a span:hover {
        background-image:url('hm_webhelp_buttons_orange.png');
      } 
      #idnav span.hmbtnprev { background-position: 0 -32px }
      #idnav span.hmbtnnext { background-position: -24px -32px }
      #idnav span.hmbtntop  { background-position: -48px -32px }
      #idnav span.hmbtntoggle  { width: 20px; background-position: -70px -32px }
      #idnav span.hmbtnprint  { background-position: -88px -32px }

      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}       
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }      
      #switchtoggles { text-align: right; padding: 0 2px 0 0; font-size: 90%; } 
      .sync-toc { color: #FFF; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #FFF; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #FFF; }
      .sync-toc a:hover { text-decoration: underline; }
      a.hmanchor { display: inline-block; margin-top: -4em; padding-top: 4em }	  
   </style>
   <style TYPE="text/css" media="print">
      div#idheader, img.dropdown-toggle-icon, p.help-url { display:none } 
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "ppg-post-events.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">Post Events</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;" cellspacing="0" cellpadding="0"> 
  <tr>
    <td class="topichead" style="text-align:left; vertical-align:bottom">
      <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="index.html?ppg-post-events.html" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
      <p class="crumbs"><b>Navigation:</b>&nbsp;
      &raquo;No topics above this level&laquo;
      </p>
   
      <h1 class="p_Heading1"><span class="f_Heading1">Post Events</span></h1>

    </td>
    <td class="topichead" id="idnav">
      
      <span class="hmbtnprev"></span>
      <a href="welcome.html" title="Parent Chapter"><span class="hmbtntop"></span></a>
      <span class="hmbtnnext"></span>
      
    </td>
  </tr>  
</table>
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser --> 
<!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->

<!--ZOOMRESTART-->
<p class="p_Normal">Programmable Post Processor has event driven architecture. Before outputting a specific block of G-code event is called. List of available events can be found at &quot;Post event list&quot; section.</p>
<p class="p_Normal">User can specify output g-code block format on each event and Set/Get Global Post variables using objects from event parameters:</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 8px 0;"><table style="border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; background-color:#E6E6E6; padding:0; border:none"><p class="p_Normal"><span style="color: #0000ff;">def OnEndProcessing(blockData: </span><span class="f_BoldKeyword">PostBlockData</span><span style="color: #0000ff;">, globalData: </span><span class="f_BoldKeyword">PostGlobalData</span><span style="color: #0000ff;">): </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;return</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">PostBlockData object used to get or set G-Code block format for called event. Some block formats can contain multiple lines. For these cases each line should be separated by '\n' symbol (user can use .splitlines() and .join functions from python to process them).</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 8px 0;"><table style="border:none; border-spacing:0; border-collapse:collapse;">
<tr>
<td colspan="2"  style="vertical-align:top; width:620px; background-color:#376C9D; padding:0; border:solid thin #1159aa;"><p style="text-align: center; margin: 7px 0 7px 0;"><span style="font-weight: bold; color: #ffffff;">PostBlockData</span> </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; background-color:#E6E6E6; padding:0; border:solid thin #1159aa;"><p style="text-align: center; margin: 7px 0 7px 0;"><span style="font-weight: bold;">Methods</span> </p>
</td>
<td style="vertical-align:top; width:308px; background-color:#E6E6E6; padding:0; border:solid thin #1159aa; border-top:none;"><p style="text-align: center; margin: 7px 0 7px 0;"><span style="font-weight: bold;">Description</span> </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Set(string)</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Set block format string</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Get()</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Get block format string</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">Example of modification block output format: </p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 8px 0;"><table style="border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; background-color:#E6E6E6; padding:0; border:none"><p class="p_Normal"><span style="color: #0000ff;">def OnRapidMotion(blockData: </span><span class="f_BoldKeyword">PostBlockData</span><span style="color: #0000ff;">, globalData: </span><span class="f_BoldKeyword">PostGlobalData</span><span style="color: #0000ff;">): </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;data = blockData.Get() </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;data = data + &quot; - Modified by OnRapidMotion&quot; </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;blockData.Set(data) </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;return</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">To access global(system) post variables user can use PostGlobalData object, list of variables can be found at &quot;Post variable list&quot; section</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 8px 0;"><table style="border:none; border-spacing:0; border-collapse:collapse;">
<tr>
<td colspan="2"  style="vertical-align:top; width:620px; background-color:#376C9D; padding:0; border:solid thin #1159aa;"><p style="text-align: center; margin: 7px 0 7px 0;"><span style="font-weight: bold; color: #ffffff;">PostGlobalData Object Methods</span><span style="color: #ffffff;"> </span></p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; background-color:#E6E6E6; padding:0; border:solid thin #1159aa;"><p style="text-align: center; margin: 7px 0 7px 0;"><span style="font-weight: bold;">Methods</span> </p>
</td>
<td style="vertical-align:top; width:308px; background-color:#E6E6E6; padding:0; border:solid thin #1159aa; border-top:none;"><p style="text-align: center; margin: 7px 0 7px 0;"><span style="font-weight: bold;">Description</span> </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">GetIntVar(string)</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Get variable value as Int </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">GetFloatVar(string)</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Get variable value as float  </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">GetStrVar(string)</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Get variable value as string </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">SetIntVar(string, value)</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Set int value for variable </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">SetFloatVar(string, value)</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Set float value for variable </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">SetStrVar(string, value)</p>
</td>
<td style="vertical-align:top; width:308px; padding:0; border:solid thin #1159aa;"><p style="margin: 7px 0 7px 0;">Set string value for variable </p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">Example of modification of variable from variable list: </p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 8px 0;"><table style="border:none; border-spacing:0;">
<tr>
<td style="vertical-align:top; background-color:#E6E6E6; padding:0; border:none"><p class="p_Normal"><span style="color: #0000ff;">def OnRapidMotion(blockData: PostBlockData, globalData: PostGlobalData): </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;nextX = float(globalData.GetStrVar(&quot;[NEXT_NONMDL_X]&quot;)) # e.g. converting to float by using Python </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;nextX = nextX + 1.3 </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;globalData.SetFloatVar(&quot;[NEXT_NONMDL_X]&quot;, nextX) </span></p>
<p class="p_Normal"><span style="color: #0000ff;"> &nbsp; &nbsp;return </span></p>
</td>
</tr>
</table>
</div>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

  $(document).ready(function(){
    $(window).bind('resize', function() {
      var y = $('#idheader').height(); 
      $('#idcontent').css('margin-top', y);
      var par = window.parent;
      if ($( par ).width() <= $( window ).width()+20) {
        $('#idheader').css('position', 'relative');
        $('#idcontent').css('margin-top', 0);
        $('#idbacktotop').css('display', 'block');
        $('.hmanchor').css('margin-top', -20);
	$('.hmanchor').css('padding-top', 20);
      }
      else {
        $('#idheader').css('position', 'fixed');
        $('#idcontent').css('margin-top', $('#idheader').height());
        $('#idbacktotop').css('display', 'none');
        $('.hmanchor').css('margin-top', -y-20);
	$('.hmanchor').css('padding-top', y+20);
      }
    });
    
    $(window).resize(); //trigger event for initially small displays
  });

if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) { $('.sync-toc').show();$('p.crumbs').hide();}

</script>
</body>
</html>
